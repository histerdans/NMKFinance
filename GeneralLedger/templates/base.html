<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<title>NMK Finance</title>
	{%load static %}
	<meta name="description" content="Static &amp; NMK Finance System" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />

	<!--basic styles-->

	<link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet" />
	<link href="{% static 'css/bootstrap-responsive.min.css' %}" rel="stylesheet" />
	<link rel="stylesheet" href="{% static 'css/font-awesome.min.css' %}" />

		<!--[if IE 7]>
		  <link rel="stylesheet" href="{% static 'css/font-awesome-ie7.min.css' %}" />
		<![endif]-->

		<!--page specific plugin styles-->

		<!--fonts-->

		<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:400,300" />

		<!--finance styles-->
		<link rel="stylesheet" href="{% static 'css/select2.css' %}" />
		<link rel="stylesheet" href="{% static 'css/finance.min.css' %}" />
		<link rel="stylesheet" href="{% static 'css/finance-responsive.min.css' %}" />
		<link rel="stylesheet" href="{% static 'css/finance-skins.min.css' %}" />

		<!--[if lte IE 8]>
		  <link rel="stylesheet" href="{% static 'css/finance-ie.min.css' %}" />
		<![endif]-->

		<!--inline styles related to this page-->
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /></head>

		<body>
			<div class="navbar">
				<div class="navbar-inner">
					<div class="container-fluid">
						<a href="#" class="brand">
							<small>
								<i class="icon-dollar"></i>
								NMK Finance
							</small>
						</a><!--/.brand-->
						<ul class="nav finance-nav pull-right">


							<li class="light-blue">
								<a data-toggle="dropdown" href="#" class="dropdown-toggle">
									<img class="nav-user-photo" src="{% static 'avatars/user.jpg' %}" alt="Jason's Photo" />
									<span class="user-info">
										<small>Welcome,</small>
										{{request.user}}
									</span>

									<i class="icon-caret-down"></i>
								</a>

								<ul class="user-menu pull-right dropdown-menu dropdown-yellow dropdown-caret dropdown-closer">
									

									<li>
										<a href="#">
											<i class="icon-user"></i>
											Profile
										</a>
									</li>

									<li class="divider"></li>

									<li>
										<a href="{% url 'accounts:logout' %}">
											<i class="icon-off"></i>
											Logout
										</a>
									</li>
								</ul>
							</li>
						</ul><!--/.finance-nav-->

					</div><!--/.container-fluid-->
				</div><!--/.navbar-inner-->
			</div>

			<div class="main-container container-fluid">
				<a class="menu-toggler" id="menu-toggler" href="#">
					<span class="menu-text"></span>
				</a>

				<div class="sidebar" id="sidebar">
					

					<ul class="nav nav-list">
						<li class="active">
							<a href="#">
								<i class="icon-dashboard"></i>
								<span class="menu-text"> Dashboard </span>
							</a>
						</li>

						

						<li>
							<a href="#" class="dropdown-toggle">
								<i class="icon-book"></i>
								<span class="menu-text"> General Ledger </span>

								<b class="arrow icon-angle-down"></b>
							</a>

							<ul class="submenu">
								<li>
									<a href="{% url 'GeneralLedger:newGL' %}">
										<i class="icon-double-angle-right"></i>
										Add New
									</a>
								</li>

								<li>
									<a href="{% url 'GeneralLedger:reportGL' %}">
										<i class="icon-double-angle-right"></i>
										Data Reports
									</a>
								</li>

								<li>
									<a href="{% url 'GeneralLedger:summaryGL' %}">
										<i class="icon-double-angle-right"></i>
										Report Summary
									</a>
								</li>
							</ul>
						</li>
						<li >
							<a href="#" class="dropdown-toggle">
								<i class="icon-dollar"></i>
								<span class="menu-text"> Assets Registry </span>

								<b class="arrow icon-angle-down"></b>
							</a>

							<ul class="submenu">
								<li>
									<a href="#">
										<i class="icon-double-angle-right"></i>
										Add New
									</a>
								</li>

								<li>
									<a href="#">
										<i class="icon-double-angle-right"></i>
										Data Reports
									</a>
								</li>

								<li>
									<a href="#">
										<i class="icon-double-angle-right"></i>
										Report Summary
									</a>
								</li>
							</ul>
						</li>
						<li >
							<a href="#" class="dropdown-toggle">
								<i class=" icon-briefcase"></i>
								<span class="menu-text"> Financial Statements </span>

								<b class="arrow icon-angle-down"></b>
							</a>

							<ul class="submenu">
								<li>
									<a href="#">
										<i class="icon-double-angle-right"></i>
										Add New
									</a>
								</li>

								<li>
									<a href="#">
										<i class="icon-double-angle-right"></i>
										Data Reports
									</a>
								</li>

								<li>
									<a href="#">
										<i class="icon-double-angle-right"></i>
										Report Summary
									</a>
								</li>
							</ul>
						</li>
						<li >
							<a href="#" class="dropdown-toggle">
								<i class="icon-folder-open"></i>
								<span class="menu-text"> Office Documents </span>

								<b class="arrow icon-angle-down"></b>
							</a>

							<ul class="submenu">
								<li>
									<a href="#">
										<i class="icon-double-angle-right"></i>
										Scan & Upload New
									</a>
								</li>

								<li>
									<a href="#">
										<i class="icon-double-angle-right"></i>
										Edit Records Search
									</a>
								</li>

								<li>
									<a href="#">
										<i class="icon-double-angle-right"></i>
										Print Record
									</a>
								</li>
							</ul>
						</li>
					</ul><!--/.nav-list-->

					<div class="sidebar-collapse" id="sidebar-collapse">
						<i class="icon-double-angle-left"></i>
					</div>
				</div>

				<div class="main-content">

					<div class="page-content">

						<div class="row-fluid">
							<div class="span12">
								<!--PAGE CONTENT BEGINS-->

								{% block content %}
								{% endblock %}



							</div><!--PAGE CONTENT ENDS-->
						</div><!--/.span-->
					</div><!--/.row-fluid-->
				</div><!--/.page-content-->

				<div class="hr hr-18 dotted hr-double"></div>


				<div class="hr hr-18 dotted hr-double"></div>
			</div><!--/.main-content-->
		</div><!--/.main-container-->

		<a href="#" id="btn-scroll-up" class="btn-scroll-up btn btn-small btn-inverse">
			<i class="icon-double-angle-up icon-only bigger-110"></i>
		</a>

		<!--basic scripts-->

		<!--[if !IE]>-->

		<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

		<!--<![endif]-->

		<!--[if IE]>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js' %}"></script>
<![endif]-->

<!--[if !IE]>-->

<script type="text/javascript">
	window.jQuery || document.write("<script src='{% static 'js/jquery-2.0.3.min.js' %}'>"+"<"+"/script>");
</script>

<!--<![endif]-->

		<!--[if IE]>
<script type="text/javascript">
 window.jQuery || document.write("<script src='{% static 'js/jquery-1.10.2.min.js' %}'>"+"<"+"/script>");
</script>
<![endif]-->

<script type="text/javascript">
	if("ontouchend" in document) document.write("<script src='{% static 'js/jquery.mobile.custom.min.js' %}'>"+"<"+"/script>");
</script>
<script src="{% static 'js/bootstrap.min.js' %}"></script>

<!--page specific plugin scripts-->

<script src="{% static 'js/jquery.dataTables.min.js' %}"></script>
<script src="{% static 'js/jquery.dataTables.bootstrap.js' %}"></script>

<script src="{% static 'js/fuelux/fuelux.wizard.min.js' %}"></script>
<script src="{% static 'js/jquery.validate.min.js' %}"></script>
<script src="{% static 'js/additional-methods.min.js' %}"></script>
<script src="{% static 'js/bootbox.min.js' %}"></script>
<script src="{% static 'js/jquery.maskedinput.min.js' %}"></script>
<script src="{% static 'js/select2.min.js' %}"></script>
<!--finance scripts-->
<script src="{% static 'js/finance-elements.min.js' %}"></script>
<script src="{% static 'js/finance.min.js' %}"></script>

<!--inline scripts related to this page-->

<script type="text/javascript">
	$(function() {
		var oTable1 = $('#sample-table-2').dataTable( {
			"aoColumns": [
			{ "bSortable": false },
			null, null,null, null, null,
			{ "bSortable": false }
			] } );


		$('table th input:checkbox').on('click' , function(){
			var that = this;
			$(this).closest('table').find('tr > td:first-child input:checkbox')
			.each(function(){
				this.checked = that.checked;
				$(this).closest('tr').toggleClass('selected');
			});

		});


		$('[data-rel="tooltip"]').tooltip({plfinancement: tooltip_plfinancement});
		function tooltip_plfinancement(context, source) {
			var $source = $(source);
			var $parent = $source.closest('table')
			var off1 = $parent.offset();
			var w1 = $parent.width();
			
			var off2 = $source.offset();
			var w2 = $source.width();
			
			if( parseInt(off2.left) < parseInt(off1.left) + parseInt(w1 / 2) ) return 'right';
			return 'left';
		}
	})
</script>



<!--inline scripts related to this page-->

<script type="text/javascript">
	$(function() {

		
		$.mask.definitions['~']='[+-]';
		$('#phone').mask('(999) 999-9999');

		jQuery.validator.addMethod("phone", function (value, element) {
			return this.optional(element) || /^\(\d{3}\) \d{3}\-\d{4}( x\d{1,6})?$/.test(value);
		}, "Enter a valid phone number.");
jQuery.validator.addMethod("Museumemail", function (value, element) {
			return this.optional(element) || /^.+@museums.or.ke$/.test(value);
		}, "Only @museums.or.ke email addresses are allowed.");

		$('#validation-form').validate({
			errorElement: 'span',
			errorClass: 'help-inline',
			focusInvalid: false,
			rules: {
				item_name: {
					required: true,
				},
				description: {
					required: true,
					minlength: 5
				},
				partner: {
					required: true,
					minlength: 5,
				},
				invoice: {
					required: true
				},
				transaction_ref_number: {
					required: true,
				},
				account_name: {
					required: true,
				},
				account_number: {
					required: true
				},
				date_due: {
					required: true
				},
				debit: {
					required: true,
				},
				credit: {
					required: true,
				},
				currency: {
					required: true,
				},
				tax_amount: {
					required: true
				},
				paye: {
					required: true,
				},
				url: {
					required: true,
					url: true
				},
				comment: {
					required: true
				},
				state: {
					required: true
				},
			},

			messages: {
				email: {
					required: "Please provide a valid email.",
					email: "Please provide a valid email."
				},
				password: {
					required: "Please specify a password.",
					minlength: "Please specify a secure password."
				},
				subscription: "Please choose at least one option",
				gender: "Please choose gender",
				agree: "Please accept our policy"
			},

					invalidHandler: function (event, validator) { //display error alert on form submit   
						$('.alert-error', $('.login-form')).show();
					},

					highlight: function (e) {
						$(e).closest('.control-group').removeClass('info').addClass('error');
					},

					success: function (e) {
						$(e).closest('.control-group').removeClass('error').addClass('info');
						$(e).remove();
					},

					errorPlacement: function (error, element) {
						if(element.is(':checkbox') || element.is(':radio')) {
							var controls = element.closest('.controls');
							if(controls.find(':checkbox,:radio').length > 1) controls.append(error);
							else error.insertAfter(element.nextAll('.lbl:eq(0)').eq(0));
						}
						else if(element.is('.select2')) {
							error.insertAfter(element.siblings('[class*="select2-container"]:eq(0)'));
						}
						else if(element.is('.chzn-select')) {
							error.insertAfter(element.siblings('[class*="chzn-container"]:eq(0)'));
						}
						else error.insertAfter(element);
					},

					submitHandler: function (form) {
					},
					invalidHandler: function (form) {
					}
				});

		
		
	})
</script>
<script type="text/javascript">
	$(document).ready(function(){
  $('#add-gl-form').click(function() {
    TESTCURRENCY = $('#value').val().toString().match(/(?=[\s\d])(?:\s\.|\d+(?:[.]\d+)*)/gmi);
    if (TESTCURRENCY.length <= 1) {
      $('#valueshow').val(
        parseFloat(TESTCURRENCY.toString().match(/^\d+(?:\.\d{0,2})?/))
      );
    } else {
      $('#valueshow').val('Invalid a value!');
    }
  });
});
</script>
	</body>
	</html>
